<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Currency & Capital Tracker</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Currency & Capital Tracker</h1>

    <!-- Buy Section -->
    <div class="section">
      <h2>Buy Currency</h2>
      <form id="buyForm">
        <label for="buyCurrency">Currency:</label>
        <select id="buyCurrency" required>
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
          <option value="USDT">USDT</option>
        </select>

        <label for="buyAmount">Amount:</label>
        <input type="number" id="buyAmount" step="0.01" required>
        
        <label for="buyRate">Rate (to MVR):</label>
        <input type="number" id="buyRate" step="0.01" required>
        
        <label for="buyRemarks">Remarks:</label>
        <input type="text" id="buyRemarks">
        
        <button type="submit">Add Purchase</button>
      </form>
      <h3>Buy Summary</h3>
      <p>Total Purchased (USD): <span id="totalPurchasedUSD">0</span></p>
      <p>Total Purchased (EUR): <span id="totalPurchasedEUR">0</span></p>
      <p>Total Purchased (USDT): <span id="totalPurchasedUSDT">0</span></p>
      <p>Average Purchase Cost (MVR): <span id="avgPurchaseCost">0</span></p>
    </div>

    <!-- Sell Section -->
    <div class="section">
      <h2>Sell Currency</h2>
      <form id="sellForm">
        <label for="sellCurrency">Currency:</label>
        <select id="sellCurrency" required>
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
          <option value="USDT">USDT</option>
        </select>

        <label for="sellAmount">Amount:</label>
        <input type="number" id="sellAmount" step="0.01" required>
        
        <label for="sellRate">Rate (to MVR):</label>
        <input type="number" id="sellRate" step="0.01" required>
        
        <label for="sellRemarks">Remarks:</label>
        <input type="text" id="sellRemarks">
        
        <button type="submit">Add Sale</button>
      </form>
      <h3>Sell Summary</h3>
      <p>Total Sold (USD): <span id="totalSoldUSD">0</span></p>
      <p>Total Sold (EUR): <span id="totalSoldEUR">0</span></p>
      <p>Total Sold (USDT): <span id="totalSoldUSDT">0</span></p>
      <p>Average Sell Price (MVR): <span id="avgSellPrice">0</span></p>
      <p>Current Profit (MVR): <span id="currentProfit">0</span></p>
    </div>

    <!-- Payments Section -->
    <div class="section">
      <h2>Payments</h2>
      <form id="paymentForm">
        <label for="paymentType">Type:</label>
        <select id="paymentType" required>
          <option value="In">Payment In</option>
          <option value="Out">Payment Out</option>
        </select>

        <label for="paymentAmount">Amount (MVR):</label>
        <input type="number" id="paymentAmount" step="0.01" required>
        
        <label for="paymentRemarks">Remarks:</label>
        <input type="text" id="paymentRemarks">
        
        <button type="submit">Add Payment</button>
      </form>
      <h3>Payment Summary</h3>
      <p>Total Payment In (MVR): <span id="totalPaymentIn">0</span></p>
      <p>Total Payment Out (MVR): <span id="totalPaymentOut">0</span></p>
      <p>Net Payment (MVR): <span id="netPayment">0</span></p>
    </div>

    <!-- Capital Section -->
    <div class="section">
      <h2>Capital</h2>
      <form id="capitalForm">
        <label for="capitalAction">Action:</label>
        <select id="capitalAction" required>
          <option value="Set">Set Capital</option>
          <option value="Add">Add to Capital</option>
          <option value="Deduct">Deduct from Capital</option>
        </select>

        <label for="capitalAmount">Amount (MVR):</label>
        <input type="number" id="capitalAmount" step="0.01" required>
        
        <label for="capitalRemarks">Remarks:</label>
        <input type="text" id="capitalRemarks">
        
        <button type="submit">Update Capital</button>
      </form>
      <h3>Capital Summary</h3>
      <p>Current Capital (MVR): <span id="currentCapital">0</span></p>
    </div>

    <!-- Currency Balances Section -->
    <div class="section">
      <h2>Currency Balances</h2>
      <h3>Current Balances</h3>
      <p>Balance (USD): <span id="balanceUSD">0</span></p>
      <p>Balance (EUR): <span id="balanceEUR">0</span></p>
      <p>Balance (USDT): <span id="balanceUSDT">0</span></p>
    </div>

    <!-- Transaction History -->
    <div class="section">
      <h2>Transaction History</h2>
      <button id="exportCSV" class="export-button">Export to CSV</button>
      <table id="transactionHistory">
        <thead>
          <tr>
            <th>Type</th>
            <th>Currency</th>
            <th>Amount</th>
            <th>Rate (MVR)</th>
            <th>Remarks</th>
            <th>Timestamp</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        </tbody>
      </table>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
